{"version":3,"sources":["contexts/CurrentUserContext.js","images/vector/succed.svg","images/vector/fail.svg","components/Card/Card.js","images/vector/mesto_Russia.svg","components/Footer/Footer.js","images/vector/logo.svg","components/Header/Header.js","components/Main/Main.js","components/ImagePopup/ImagePopup.js","components/PopupWithForm/PopupWithForm.js","components/EditProfilePopup/EditProfilePopup.js","components/EditAvatarPopup/EditAvatarPopup.js","components/AddPlacePopup/AddPlacePopup.js","components/RemoveCardPopup/RemoveCardPopup.js","components/Login/Login.js","components/Register/Register.js","components/ProtectedRoute/ProtectedRoute.js","components/InfoTooltip/InfoTooltip.js","utils/api.js","utils/projectAuth.js","components/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","data","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","className","type","onClick","onPopupDelete","setId","src","link","id","alt","onCardClick","name","onCardLike","length","Footer","logoFooter","Header","Navbar","collapseOnSelect","expand","variant","Container","Brand","href","logo","Toggle","style","marginRight","aria-controls","Collapse","Nav","email","to","title","Main","headerMob","signOut","onEditAvatar","backgroundImage","avatar","about","onEditProfile","onAddPlace","cards","map","handleCardDelete","ImagePopup","card","onClose","PopupWithForm","isOpen","selectorCont","selectorBtn","div","action","selector","onSubmit","inputs","onCardDelete","button","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","savePreload","value","onChange","target","placeholder","required","EditAvatarPopup","avaRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","place","setPlace","setLink","onCreateCard","createPreload","RemoveCardPopup","currentId","Login","handleLogin","password","inputValue","setInputValue","handleChange","autoComplete","Register","onRegister","ProtectedRoute","Component","component","loggedIn","InfoTooltip","img","infoTool","message","thenApi","res","ok","json","Promise","reject","status","api","options","this","_baseUrl","baseUrl","_headers","headers","fetch","then","method","body","JSON","stringify","element","userId","cardId","Authorization","localStorage","getItem","BASE_URL","withRouter","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isDeletePopupOpen","setIsDeletePopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","selectedCard","setSelectedCard","setСurrentUser","setCurrentId","setCards","setLoggedIn","userData","setUserData","setInfoTool","registerPopup","setRegisterPopup","setSavePreload","setCreatePreload","err","console","log","history","useHistory","escFunction","event","keyCode","closeAllPopups","deleteCard","newList","filter","c","catch","getUser","token","projectAuth","push","getInitialCards","document","addEventListener","removeEventListener","Provider","exact","path","removeItem","changeLikeCardStatus","newCard","newCards","setItem","succed","fail","setAvatar","finally","setUserInfo","createNewCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.d2db0b31.chunk.js","sourcesContent":["import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n","export default __webpack_public_path__ + \"static/media/succed.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/fail.df8eddf6.svg\";","import React from 'react';\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\n\nfunction Card(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const isOwn = props.data.owner === currentUser._id;\n  const cardDeleteButtonClassName = (\n    `elements__element-delete-button ${isOwn ? 'elements__element-delete-button_visible' : 'elements__element-delete-button_hidden'}`\n  );\n  const isLiked = props.data.likes.some(i => i === currentUser._id);\n  const cardLikeButtonClassName = `elements__element-like ${isLiked ? 'elements__element-like_visible' : 'elements__element-like_hidden'}`;\n\n  function setCardId() {\n    props.onPopupDelete();\n    props.setId(props.data._id);\n  }\n\n  function handleLikeClick() {\n    props.onCardLike(props.data);\n  }\n\n  function handleClick() {\n    props.onCardClick(props);\n  }\n\n  return (\n    <li className=\"elements__element\">\n      <button type=\"submit\" className={cardDeleteButtonClassName} onClick={setCardId}></button>\n      <img src={props.data.link} id=\"\" alt=\"Места-России\" className=\"elements__element-img\" onClick={handleClick} />\n      <div className=\"elements__element-description\">\n        <h2 className=\"elements__element-title\">{props.data.name}</h2>\n        <div className=\"elements__element-like-box\">\n          <button type=\"submit\" className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\n          <div className=\"elements__element-likes\">{props.data.likes.length}</div>\n        </div>\n      </div>\n    </li>\n  )\n}\n\nexport default Card;","export default __webpack_public_path__ + \"static/media/mesto_Russia.e56d73ba.svg\";","import React from 'react';\nimport logoFooter from '../../images/vector/mesto_Russia.svg';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <img src={logoFooter} alt=\"2020_Место_Россия\" />\n    </footer>\n  );\n}\n\nexport default Footer;","export default __webpack_public_path__ + \"static/media/logo.a307e1c4.svg\";","import { React } from 'react';\nimport logo from '../../images/vector/logo.svg';\nimport { Link } from 'react-router-dom';\nimport { Navbar, Container, Nav } from 'react-bootstrap';\n\nfunction Header(props) {\n  return (\n    <>\n      <Navbar className=\"p-0\" collapseOnSelect expand=\"md\" variant=\"dark\">\n        <Container className=\"header mw-100 pr-0 pl-0\">\n          <Navbar.Brand className=\"p-0 m-0\" href=\"/\">\n            <img src={logo}\n              alt=\"Логотип\"\n              className=\"header__logo\"\n            />\n          </Navbar.Brand>\n          <Navbar.Toggle className=\"p-0 border-0\" style={{marginRight: '30px'}} aria-controls=\"responsive-navbar-nav\" />\n          <Navbar.Collapse className=\"justify-content-end\" id=\"responsive-navbar-nav\">\n            <Nav className=\"text-center\">\n              <div className=\"header__auth_mobile\">{props.email}</div>\n              <Link className=\"header__auth\" onClick={props.onClick} to={props.to}>{props.title}</Link>\n            </Nav>\n          </Navbar.Collapse>\n        </Container>\n      </Navbar>\n    </>\n  );\n}\n\nexport default Header;","import React from 'react';\nimport Card from '../Card/Card';\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\nimport Footer from '../../components/Footer/Footer';\nimport Header from '../../components/Header/Header';\n\nfunction Main(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"content\">\n      <Header headerMob={'header_mobile'} email={props.email} title=\"Выход\" onClick={props.signOut} to=\"\" />\n      <section className=\"profile\">\n        <div className=\"profile__avatar-hover\" onClick={props.onEditAvatar} style={{ backgroundImage: `url(${currentUser.avatar})` }}>\n        </div>\n        <div className=\"profile__info\">\n          <div className=\"profile__info-content\">\n            <h1 className=\"profile__info-name\">{currentUser.name}</h1>\n            <p className=\"profile__info-status\">{currentUser.about}</p>\n          </div>\n          <button className=\"profile__info-edit-button\" onClick={props.onEditProfile}></button>\n        </div>\n        <button className=\"profile__add-button\" onClick={props.onAddPlace}></button>\n      </section>\n      <section>\n        <ul className=\"elements\">\n          {props.cards.map((data, _id) => {\n            return (\n              <Card\n                key={_id}\n                data={data}\n                // link={data.link}\n                // name={data.name}\n                // _id={data._id}\n                // likes={data.likes}\n                onCardClick={props.onCardClick}\n                onCardLike={props.onCardLike}\n                setId={props.setId}\n                onPopupDelete={props.onPopupDelete}\n                handleCardDelete={props.handleCardDelete}\n              />\n            )\n          })}\n        </ul>\n      </section>\n      <Footer />\n    </main>\n  );\n}\n\nexport default Main;","import React from 'react'\n\nfunction ImagePopup(props) {\n    return (\n      <div className={props.card ? `popup popup_${props.card} popup_image-background popup_open` : `popup popup_${props.card} popup_image-background`}>\n        <div className=\"popup__overlay\" onClick={props.onClose}></div>\n        <div className=\"popup__container popup__container_image\">\n          <button className=\"popup__close-icon\" onClick={props.onClose}></button>\n          <img src={props.card.link} alt=\"Места-России\" className=\"popup__image\" />\n          <h5 className=\"popup__title\">{props.card.name}</h5>\n        </div>\n      </div>\n    )\n}\n\nexport default ImagePopup;","import React from 'react';\n\nfunction PopupWithForm(props) {\n  return (\n    <div className={props.isOpen ? `popup popup_${props.name} popup_open` : `popup popup_${props.name}`}>\n      <div className=\"popup__overlay\" onClick={props.onClose}></div>\n      <div className={`popup__container ${props.selectorCont}`}>\n        <button className={`popup__close-icon ${props.selectorBtn}`} onClick={props.onClose}></button>\n        {props.div}\n        <h2 className=\"popup__heading\">{props.title}</h2>\n        <form action=\"#\" className={`popup__inputs ${props.selector}`} name={props.name} onSubmit={props.onSubmit}>\n          {props.inputs}\n          <button type=\"submit\" className=\"popup__submit-button\" onClick={props.onCardDelete}>{props.button}</button>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;","import React from 'react';\nimport PopupWithForm from '../../components/PopupWithForm/PopupWithForm';\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\n\nexport default function EditProfilePopup(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser])\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  function inputName(e) {\n    setName(e.target.value);\n  }\n\n  function inputDescription(e) {\n    setDescription(e.target.value);\n  }\n\n  return (\n    <PopupWithForm\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      name='edit-profile'\n      title='Редактировать профиль'\n      button={props.savePreload}\n      inputs={\n        <>\n          <input type=\"text\" className=\"popup__input popup__input-name\" value={name || ''} onChange={inputName} placeholder=\"Имя\" name=\"name\" required />\n          <span className=\"popup__error\" id=\"name-error\"></span>\n          <input type=\"text\" className=\"popup__input popup__input-job\" value={description || ''} onChange={inputDescription} placeholder=\"О себе\" name=\"link\" required />\n          <span className=\"popup__error\" id=\"link-error\"></span>\n        </>\n      }\n    />\n  )\n}","import React from 'react';\nimport PopupWithForm from '../../components/PopupWithForm/PopupWithForm';\n\nexport default function EditAvatarPopup(props) {\n  const avaRef = React.useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateAvatar({\n      avatar: avaRef.current.value,\n    });\n    avaRef.current.value = '';\n  } \n\n  return (\n    <PopupWithForm\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      name='edit-avatar'\n      title='Обновить аватар'\n      button={props.savePreload}\n      inputs={(\n        <>\n          <input type=\"url\" ref={avaRef} className=\"popup__input popup__input-link\" placeholder=\"Ссылка на новый аватар\"\n            name=\"link\" />\n          <span className=\"popup__error\" id=\"link-error\"></span>\n        </>\n      )}\n    />\n  )\n}\n","import React from 'react';\nimport PopupWithForm from '../../components/PopupWithForm/PopupWithForm';\n\nexport default function AddPlacePopup(props) {\n  const [place, setPlace] = React.useState('');\n  const [link, setLink] = React.useState('');\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onCreateCard({\n      name: place,\n      link: link,\n    });\n    setPlace('');\n    setLink('');\n  }\n\n  function inputPlace(e) {\n    setPlace(e.target.value);\n  }\n\n  function inputLink(e) {\n    setLink(e.target.value);\n  }\n\n  return (\n    <PopupWithForm\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      name='add-element'\n      title='Новое место'\n      button={props.createPreload}\n      inputs={\n        <>\n          <input type=\"text\" className=\"popup__input popup__input-place\" value={place || ''} onChange={inputPlace} placeholder=\"Название\" name=\"name\" required />\n          <span className=\"popup__error\" id=\"name-error\"></span>\n          <input type=\"url\" className=\"popup__input popup__input-link\" value={link || ''} onChange={inputLink} placeholder=\"Ссылка на картинку\" name=\"link\" />\n          <span className=\"popup__error\" id=\"link-error\"></span>\n        </>\n      }\n    />\n  )\n}\n","import React from 'react';\nimport PopupWithForm from '../../components/PopupWithForm/PopupWithForm';\n\nexport default function RemoveCardPopup(props) {\n\n  function handleDeleteClick(e) {\n    e.preventDefault();\n    props.onCardDelete(props.currentId);\n  }\n\n  return (\n    <PopupWithForm\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onCardDelete={handleDeleteClick}\n      name='remove-card'\n      title='Вы уверены?'\n      button='Да'\n    />\n  )\n}","import { React, useState } from 'react';\nimport Header from '../../components/Header/Header';\n\nfunction Login({ handleLogin }) {\n  const [inputValue, setInputValue] = useState({\n    email: '',\n    password: '',\n  })\n\n  function handleChange(e) {\n    const { name, value } = e.target;\n    setInputValue({\n      ...inputValue,\n      [name]: value,\n    });\n  }\n\n  function habdleSubmite(e) {\n    e.preventDefault();\n    handleLogin(inputValue)\n  }\n\n  return (\n    <div className=\"loginContainer \">\n      <div className=\"header_width\">\n        <Header title=\"Регистрация\" to=\"/signup\" />\n      </div>\n      <div className=\"register\">\n        <form action=\"#\" onSubmit={habdleSubmite} className=\"popup__inputs register__form register__form_mobile\">\n          <h2 className=\"popup__heading\">Вход</h2>\n          <input type=\"email\" name=\"email\" className=\"popup__input register__input\" onChange={handleChange} value={inputValue.email} placeholder=\"Email\" required autoComplete=\"off\" />\n          {/* <span className=\"popup__error\" id=\"name-error\"></span> */}\n          <input type=\"password\" name=\"password\" className=\"popup__input register__input\" onChange={handleChange} value={inputValue.password} placeholder=\"Пароль\" required />\n          {/* <span className=\"popup__error\" id=\"link-error\"></span> */}\n          <button type=\"submit\" className=\"popup__submit-button register__button register__button_mobile\">Войти</button>\n        </form>\n      </div>\n    </div>\n  )\n}\n\nexport default Login;","import { React, useState } from \"react\";\nimport { Link } from 'react-router-dom';\nimport Header from '../../components/Header/Header';\n\nfunction Register({ onRegister }) {\n  const [inputValue, setInputValue] = useState({\n    email: '',\n    password: '',\n  });\n\n  function handleChange(e) {\n    const { name, value } = e.target;\n    setInputValue({\n      ...inputValue,\n      [name]: value,\n    });\n  }\n\n  function habdleSubmite(e) {\n    e.preventDefault();\n    onRegister(inputValue);\n  }\n\n  return (\n    <div className=\"loginContainer\">\n      <div className=\"header_width\">\n        <Header title=\"Вход\" to=\"/singin\" />\n      </div>\n      <div className=\"register\">\n        <form action=\"#\" className=\"popup__inputs register__form register__form_mobile\" onSubmit={habdleSubmite}>\n          <h2 className=\"popup__heading\">Регистрация</h2>\n          <input type=\"email\" name=\"email\" className=\"popup__input register__input\" onChange={handleChange} value={inputValue.email} placeholder=\"Email\" required autoComplete=\"off\" />\n          {/* <span className=\"popup__error\" id=\"name-error\"></span> */}\n          <input type=\"password\" name=\"password\" className=\"popup__input register__input\" onChange={handleChange} value={inputValue.password} placeholder=\"Пароль\" required />\n          {/* <span className=\"popup__error\" id=\"link-error\"></span> */}\n          <button type=\"submit\" className=\"popup__submit-button register__button register__button_mobile\">Зарегистрироваться</button>\n          <span className=\"register__span register__span_mobile\">Уже зарегистрированы?<Link className=\"header__auth\" to=\"/signin\"> Войти</Link></span>\n        </form>\n      </div>\n    </div>\n  )\n}\n\nexport default Register;","import { React } from \"react\";\nimport { Redirect, Route } from \"react-router-dom\";\n\nfunction ProtectedRoute({ component: Component, ...props }) {\n  return (\n    <Route>\n      {\n        props.loggedIn === true ? <Component {...props} /> : <Redirect to=\"/signin\" />\n      }\n    </Route>\n  )\n}\n\nexport default ProtectedRoute;","import { React } from \"react\";\nimport PopupWithForm from \"../PopupWithForm/PopupWithForm\";\n\nfunction InfoTooltip(props) {\n  const img = props.infoTool.img;\n  const message = props.infoTool.message;\n\n  return (\n    <PopupWithForm\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      selector={'form_none'}\n      infoTool={props.infoTool}\n      img={img}\n      message={message}\n      div={\n        <div className=\"infoTool\">\n          <img src={img} alt=\"Картинка регистрации\" />\n          <p className=\"infoTool__title infoTool__title_mobile\">{message}</p>\n        </div>\n      }\n      selectorCont={'popup__container_mobile'}\n      selectorBtn={'popup__close-icon_mobile'}\n    />\n  )\n}\n\nexport default InfoTooltip;","const thenApi = (res) => {\n  if (res.ok) {\n    return res.json();\n  }\n  return Promise.reject(`Ошибка: ${res.status}`);\n}\n\nclass Api {\n  constructor(options) {\n    this._baseUrl = options.baseUrl;\n    this._headers = options.headers;\n  }\n\n  getInitialCards() {\n    return fetch(this._baseUrl + '/cards', {\n      headers: this._headers\n    }).then(thenApi)\n  }\n\n  getUser() {\n    return fetch(this._baseUrl + '/users/me', {\n      headers: this._headers\n    }).then(thenApi)\n  }\n\n  setUserInfo(data) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about,\n      })\n    }).then(thenApi)\n  }\n\n  setAvatar(avatar) {\n    return fetch(this._baseUrl + '/users/me/avatar', {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify(avatar)\n    }).then(thenApi)\n  }\n\n  createNewCard(element) {\n    return fetch(this._baseUrl + '/cards', {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: element.name,\n        link: element.link,\n      })\n    }).then(thenApi)\n  }\n\n  deleteCard(userId) {\n    return fetch(`${this._baseUrl}/cards/${userId}`, {\n      method: 'DELETE',\n      headers: this._headers,\n      body: JSON.stringify({\n        _id: userId,\n      })\n    }).then(thenApi)\n  }\n\n  changeLikeCardStatus(cardId, isLiked) {\n    if (isLiked) {\n      return fetch(`${this._baseUrl}/cards/${cardId}/likes`, {\n        method: 'PUT',\n        headers: this._headers\n      }).then(thenApi)\n    } else {\n      return fetch(`${this._baseUrl}/cards/${cardId}/likes`, {\n        method: 'DELETE',\n        headers: this._headers\n      }).then(thenApi)\n    }\n  }\n}\n\n\nconst api = new Api({\n  baseUrl: 'https://api.monarhmesto.students.nomoreparties.space',\n  headers: {\n    Authorization: `Bearer ${localStorage.getItem('jwt')}`,\n    'Content-Type': 'application/json',\n  }\n});\n\nexport default api;","export const BASE_URL = \"https://api.monarhmesto.students.nomoreparties.space\";\n\nexport const register = (email, password) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({ email, password })\n  })\n    .then((res) => res.ok ? res.json() : Promise.reject('Некорректно заполнено одно из полей'))\n}\n\nexport const authorize = (email, password) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({ email, password })\n  })\n    .then((res) => res.ok ? res.json() : Promise.reject('Пользователь с email не найден'));\n}\n\nexport const getContent = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      'Authorization': `Bearer ${token}`,\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    }\n  })\n    .then((res) => res.ok ? res.json() : Promise.reject('Токен не передан или передан не в том формате'));\n}","import { React, useEffect, useState } from \"react\";\nimport { Route, Switch, Redirect, withRouter, useHistory } from \"react-router-dom\";\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport succed from '../images/vector/succed.svg';\nimport fail from '../images/vector/fail.svg';\nimport Main from '../components/Main/Main';\nimport ImagePopup from '../components/ImagePopup/ImagePopup';\nimport EditProfilePopup from '../components/EditProfilePopup/EditProfilePopup';\nimport EditAvatarPopup from '../components/EditAvatarPopup/EditAvatarPopup';\nimport AddPlacePopup from '../components/AddPlacePopup/AddPlacePopup';\nimport RemoveCardPopup from '../components/RemoveCardPopup/RemoveCardPopup';\nimport Login from '../components/Login/Login';\nimport Register from '../components/Register/Register';\nimport ProtectedRoute from '../components/ProtectedRoute/ProtectedRoute';\nimport InfoTooltip from '../components/InfoTooltip/InfoTooltip';\nimport api from '../utils/api';\nimport * as projectAuth from '../utils/projectAuth';\n\nfunction App() {\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isDeletePopupOpen, setIsDeletePopupOpen] = useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState(false);\n  const [currentUser, setСurrentUser] = useState(\"\");\n  const [currentId, setCurrentId] = useState(\"\");\n  const [cards, setCards] = useState([]);\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [userData, setUserData] = useState({\n    email: '',\n    password: '',\n  });\n  const [infoTool, setInfoTool] = useState({\n    message: '',\n    img: ''\n  });\n  const [registerPopup, setRegisterPopup] = useState();\n  const [savePreload, setSavePreload] = useState('Сохранить')\n  const [createPreload, setCreatePreload] = useState('Создать')\n\n  const err = (res) => {\n    console.log(`Ошибка: ${res}`);\n  };\n\n  const history = useHistory();\n\n  const escFunction = (event) => {\n    if (event.keyCode === 27) {\n      closeAllPopups();\n    }\n  };\n\n  useEffect(() => {\n    api.getUser().then((res) => {\n      setСurrentUser(res.data);\n    }).catch(err)\n  }, []);\n\n\n  useEffect(() => {\n    const token = localStorage.getItem('jwt');\n    if (token) {\n      projectAuth.getContent(token).then((res) => {\n        if (res) {\n          setUserData({ email: res.data.email });\n        }\n      })\n        .then(() => {\n          setLoggedIn(true);\n          history.push(\"/\");\n        })\n        .catch((res) => {\n          console.log(`Ошибка: ${res}`);\n        })\n    }\n  }, []);\n\n  useEffect(() => {\n    if (loggedIn) {\n      history.push('/');\n      api.getInitialCards().then((res) => {\n        setCards(res)\n\n      });\n    }\n  }, [loggedIn]);\n\n  useEffect(() => {\n    document.addEventListener(\"keydown\", escFunction, false);\n    return () => {\n      document.removeEventListener(\"keydown\", escFunction, false);\n    };\n  });\n\n  function handleRegister(data) {\n    const { email, password } = data;\n    projectAuth.register(email, password).then((res) => {\n      if (res) {\n        history.push('/signin');\n        setRegisterPopup(true);\n        setInfoTool({\n          message: 'Вы успешно зарегистрировались!',\n          img: succed\n        })\n      }\n    })\n      .catch((err) => {\n        setRegisterPopup(true);\n        setInfoTool({\n          message: 'Что-то пошло не так! Попробуйте ещё раз.',\n          img: fail\n        })\n        console.log(`Такой email существует ${err}`)\n      })\n  }\n\n  function handleLogin(data) {\n    const { email, password } = data;\n    setUserData({ email: email });\n    projectAuth.authorize(email, password).then((res) => {\n      if (res.token) {\n        history.push('/');\n        setLoggedIn(true);\n        localStorage.setItem('jwt', res.token);\n      }\n    })\n      .catch(err)\n  }\n\n  function signOut() {\n    localStorage.removeItem('jwt')\n    setLoggedIn(false)\n    history.push('/signin')\n  }\n\n  function handleAddPlaceSubmit(data) {\n    setCreatePreload('Создание...')\n    api.createNewCard(data).then((res) => {\n      setCards([res.data, ...cards]);\n      closeAllPopups();\n    })\n      .catch(err)\n      .finally(() => {\n        setCreatePreload('Создать');\n        closeAllPopups();\n      }\n      )\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i === currentUser._id);\n    api.changeLikeCardStatus(card._id, !isLiked).then((newCard) => {\n      const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n      setCards(newCards);\n    })\n      // .then(cards => setCards(cards))\n      .catch(err)\n  }\n\n  function handleCardDelete(cardId) {\n    return api.deleteCard(cardId).then(() => {\n      const newList = cards.filter((c) => c._id !== cardId);\n      return setCards(newList);\n    })\n      .then(closeAllPopups())\n      .catch(err)\n  }\n\n  function handleUpdateAvatar(avatar) {\n    setSavePreload('Сохранение...')\n    api.setAvatar(avatar)\n      .then((res) => {\n        setСurrentUser(res);\n      })\n      .catch(err)\n      .finally(() => {\n        setSavePreload('Сохранить');\n        closeAllPopups();\n      }\n      )\n  }\n\n  function handleUpdateUser(data) {\n    setSavePreload('Сохранение...')\n    api.setUserInfo(data)\n      .then((res) => {\n        setСurrentUser(res);\n        closeAllPopups();\n      })\n      .catch(err)\n      .finally(() => {\n        setSavePreload('Сохранить');\n        closeAllPopups();\n      }\n      )\n  }\n\n  function handleDeleteCardClick() {\n    setIsDeletePopupOpen(true);\n  };\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  };\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  };\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  };\n\n  function handleCardClick(props) {\n    setSelectedCard({ link: props.data.link, name: props.data.name });\n  }\n\n  function closeAllPopups() {\n    setIsDeletePopupOpen(false)\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setSelectedCard(false);\n    setRegisterPopup(false);\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"App\">\n\n        <Switch>\n          <ProtectedRoute\n            exact\n            path=\"/\"\n            component={Main}\n            email={userData.email}\n            signOut={signOut}\n            loggedIn={loggedIn}\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onEditAvatar={handleEditAvatarClick}\n            onCardClick={handleCardClick}\n            cards={cards}\n            onCardLike={handleCardLike}\n            onPopupDelete={handleDeleteCardClick}\n            setId={setCurrentId}\n            handleCardDelete={handleCardDelete}\n          />\n          <Route path=\"/signin\">\n            <Login\n              handleLogin={handleLogin}\n            />\n          </Route>\n          <Route path=\"/signup\">\n            <Register\n              onRegister={handleRegister}\n            />\n          </Route>\n          <Route>\n            {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/signin\" />}\n          </Route>\n        </Switch>\n\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n          savePreload={savePreload}\n        />\n\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n          savePreload={savePreload}\n        />\n\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onCreateCard={handleAddPlaceSubmit}\n          createPreload={createPreload}\n        />\n\n        <RemoveCardPopup\n          isOpen={isDeletePopupOpen}\n          onClose={closeAllPopups}\n          onCardDelete={handleCardDelete}\n          currentId={currentId}\n        />\n\n        <ImagePopup\n          card={selectedCard}\n          onClose={closeAllPopups}\n        />\n\n        <InfoTooltip\n          isOpen={registerPopup}\n          onClose={closeAllPopups}\n          infoTool={infoTool}\n        />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default withRouter(App);","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals.js';\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}