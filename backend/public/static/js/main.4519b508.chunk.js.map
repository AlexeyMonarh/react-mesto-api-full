{"version":3,"sources":["contexts/CurrentUserContext.js","images/vector/succed.svg","images/vector/fail.svg","components/Card/Card.js","images/vector/mesto_Russia.svg","components/Footer/Footer.js","images/vector/logo.svg","components/Header/Header.js","components/Main/Main.js","components/ImagePopup/ImagePopup.js","components/PopupWithForm/PopupWithForm.js","components/EditProfilePopup/EditProfilePopup.js","components/EditAvatarPopup/EditAvatarPopup.js","components/AddPlacePopup/AddPlacePopup.js","components/RemoveCardPopup/RemoveCardPopup.js","components/Login/Login.js","components/Register/Register.js","components/ProtectedRoute/ProtectedRoute.js","components/InfoTooltip/InfoTooltip.js","utils/api.js","utils/projectAuth.js","components/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","React","createContext","Card","data","onPopupDelete","setId","onCardLike","onCardClick","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","className","type","onClick","src","link","id","alt","name","length","Footer","logoFooter","Header","props","Navbar","collapseOnSelect","expand","variant","Container","Brand","href","logo","Toggle","style","marginRight","aria-controls","Collapse","Nav","email","to","title","Main","headerMob","signOut","onEditAvatar","backgroundImage","avatar","about","onEditProfile","onAddPlace","cards","map","ImagePopup","card","onClose","PopupWithForm","isOpen","selectorCont","selectorBtn","div","action","selector","onSubmit","inputs","onCardDelete","button","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","savePreload","value","onChange","target","placeholder","required","EditAvatarPopup","avaRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","place","setPlace","setLink","onCreateCard","createPreload","RemoveCardPopup","currentId","Login","handleLogin","password","inputValue","setInputValue","handleChange","autoComplete","Register","onRegister","ProtectedRoute","Component","component","loggedIn","InfoTooltip","img","infoTool","message","thenApi","res","ok","json","Promise","reject","status","api","options","this","_baseUrl","baseUrl","_headers","headers","fetch","then","method","body","JSON","stringify","element","userId","cardId","Authorization","localStorage","getItem","BASE_URL","withRouter","history","useHistory","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isDeletePopupOpen","setIsDeletePopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","selectedCard","setSelectedCard","setСurrentUser","setCurrentId","setCards","setLoggedIn","userData","setUserData","setInfoTool","registerPopup","setRegisterPopup","setSavePreload","setCreatePreload","err","console","log","closeAllPopups","token","projectAuth","getInitialCards","catch","push","getUser","document","addEventListener","escFunction","removeEventListener","event","keyCode","Provider","exact","path","removeItem","changeLikeCardStatus","newCard","newCards","c","setItem","succed","fail","setAvatar","finally","setUserInfo","createNewCard","deleteCard","newList","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.4519b508.chunk.js","sourcesContent":["import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n","export default __webpack_public_path__ + \"static/media/succed.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/fail.df8eddf6.svg\";","import React from 'react';\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\n\nfunction Card({ data, onPopupDelete, setId, onCardLike, onCardClick }) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const isOwn = data.owner === currentUser._id;\n  const cardDeleteButtonClassName = (\n    `elements__element-delete-button ${isOwn ? 'elements__element-delete-button_visible' : 'elements__element-delete-button_hidden'}`\n  );\n  const isLiked = data.likes.some(i => i === currentUser._id);\n  const cardLikeButtonClassName = `elements__element-like ${isLiked ? 'elements__element-like_visible' : 'elements__element-like_hidden'}`;\n\n  function setCardId() {\n    onPopupDelete();\n    setId(data._id);\n  }\n\n  function handleLikeClick() {\n    onCardLike(data);\n  }\n\n  function handleClick() {\n    onCardClick(data);\n  }\n\n  return (\n    <li className=\"elements__element\">\n      <button type=\"submit\" className={cardDeleteButtonClassName} onClick={setCardId}></button>\n      <img src={data.link} id=\"\" alt=\"Места-России\" className=\"elements__element-img\" onClick={handleClick} />\n      <div className=\"elements__element-description\">\n        <h2 className=\"elements__element-title\">{data.name}</h2>\n        <div className=\"elements__element-like-box\">\n          <button type=\"submit\" className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\n          <div className=\"elements__element-likes\">{data.likes.length}</div>\n        </div>\n      </div>\n    </li>\n  )\n}\n\nexport default Card;","export default __webpack_public_path__ + \"static/media/mesto_Russia.e56d73ba.svg\";","import React from 'react';\nimport logoFooter from '../../images/vector/mesto_Russia.svg';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <img src={logoFooter} alt=\"2020_Место_Россия\" />\n    </footer>\n  );\n}\n\nexport default Footer;","export default __webpack_public_path__ + \"static/media/logo.a307e1c4.svg\";","import { React } from 'react';\nimport logo from '../../images/vector/logo.svg';\nimport { Link } from 'react-router-dom';\nimport { Navbar, Container, Nav } from 'react-bootstrap';\n\nfunction Header(props) {\n  return (\n    <>\n      <Navbar className=\"p-0\" collapseOnSelect expand=\"md\" variant=\"dark\">\n        <Container className=\"header mw-100 pr-0 pl-0\">\n          <Navbar.Brand className=\"p-0 m-0\" href=\"/\">\n            <img src={logo}\n              alt=\"Логотип\"\n              className=\"header__logo\"\n            />\n          </Navbar.Brand>\n          <Navbar.Toggle className=\"p-0 border-0\" style={{marginRight: '30px'}} aria-controls=\"responsive-navbar-nav\" />\n          <Navbar.Collapse className=\"justify-content-end\" id=\"responsive-navbar-nav\">\n            <Nav className=\"text-center\">\n              <div className=\"header__auth_mobile\">{props.email}</div>\n              <Link className=\"header__auth\" onClick={props.onClick} to={props.to}>{props.title}</Link>\n            </Nav>\n          </Navbar.Collapse>\n        </Container>\n      </Navbar>\n    </>\n  );\n}\n\nexport default Header;","import React from 'react';\nimport Card from '../Card/Card';\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\nimport Footer from '../../components/Footer/Footer';\nimport Header from '../../components/Header/Header';\n\nfunction Main(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"content\">\n      <Header headerMob={'header_mobile'} email={props.email} title=\"Выход\" onClick={props.signOut} to=\"\" />\n      <section className=\"profile\">\n        <div className=\"profile__avatar-hover\" onClick={props.onEditAvatar} style={{ backgroundImage: `url(${currentUser.avatar})` }}>\n        </div>\n        <div className=\"profile__info\">\n          <div className=\"profile__info-content\">\n            <h1 className=\"profile__info-name\">{currentUser.name}</h1>\n            <p className=\"profile__info-status\">{currentUser.about}</p>\n          </div>\n          <button className=\"profile__info-edit-button\" onClick={props.onEditProfile}></button>\n        </div>\n        <button className=\"profile__add-button\" onClick={props.onAddPlace}></button>\n      </section>\n      <section>\n        <ul className=\"elements\">\n          {props.cards.map((data, _id) => {\n            return (\n              <Card\n                key={_id}\n                data={data}\n                onCardClick={props.onCardClick}\n                onCardLike={props.onCardLike}\n                setId={props.setId}\n                onPopupDelete={props.onPopupDelete}\n              />\n            )\n          })}\n        </ul>\n      </section>\n      <Footer />\n    </main>\n  );\n}\n\nexport default Main;","import React from 'react'\n\nfunction ImagePopup(props) {\n    return (\n      <div className={props.card ? `popup popup_${props.card} popup_image-background popup_open` : `popup popup_${props.card} popup_image-background`}>\n        <div className=\"popup__overlay\" onClick={props.onClose}></div>\n        <div className=\"popup__container popup__container_image\">\n          <button className=\"popup__close-icon\" onClick={props.onClose}></button>\n          <img src={props.card.link} alt=\"Места-России\" className=\"popup__image\" />\n          <h5 className=\"popup__title\">{props.card.name}</h5>\n        </div>\n      </div>\n    )\n}\n\nexport default ImagePopup;","import React from 'react';\n\nfunction PopupWithForm(props) {\n  return (\n    <div className={props.isOpen ? `popup popup_${props.name} popup_open` : `popup popup_${props.name}`}>\n      <div className=\"popup__overlay\" onClick={props.onClose}></div>\n      <div className={`popup__container ${props.selectorCont}`}>\n        <button className={`popup__close-icon ${props.selectorBtn}`} onClick={props.onClose}></button>\n        {props.div}\n        <h2 className=\"popup__heading\">{props.title}</h2>\n        <form action=\"#\" className={`popup__inputs ${props.selector}`} name={props.name} onSubmit={props.onSubmit}>\n          {props.inputs}\n          <button type=\"submit\" className=\"popup__submit-button\" onClick={props.onCardDelete}>{props.button}</button>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;","import React from 'react';\nimport PopupWithForm from '../../components/PopupWithForm/PopupWithForm';\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\n\nexport default function EditProfilePopup(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser])\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  function inputName(e) {\n    setName(e.target.value);\n  }\n\n  function inputDescription(e) {\n    setDescription(e.target.value);\n  }\n\n  return (\n    <PopupWithForm\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      name='edit-profile'\n      title='Редактировать профиль'\n      button={props.savePreload}\n      inputs={\n        <>\n          <input type=\"text\" className=\"popup__input popup__input-name\" value={name || ''} onChange={inputName} placeholder=\"Имя\" name=\"name\" required />\n          <span className=\"popup__error\" id=\"name-error\"></span>\n          <input type=\"text\" className=\"popup__input popup__input-job\" value={description || ''} onChange={inputDescription} placeholder=\"О себе\" name=\"link\" required />\n          <span className=\"popup__error\" id=\"link-error\"></span>\n        </>\n      }\n    />\n  )\n}","import React from 'react';\nimport PopupWithForm from '../../components/PopupWithForm/PopupWithForm';\n\nexport default function EditAvatarPopup(props) {\n  const avaRef = React.useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateAvatar({\n      avatar: avaRef.current.value,\n    });\n    avaRef.current.value = '';\n  } \n\n  return (\n    <PopupWithForm\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      name='edit-avatar'\n      title='Обновить аватар'\n      button={props.savePreload}\n      inputs={(\n        <>\n          <input type=\"url\" ref={avaRef} className=\"popup__input popup__input-link\" placeholder=\"Ссылка на новый аватар\"\n            name=\"link\" />\n          <span className=\"popup__error\" id=\"link-error\"></span>\n        </>\n      )}\n    />\n  )\n}\n","import React from 'react';\nimport PopupWithForm from '../../components/PopupWithForm/PopupWithForm';\n\nexport default function AddPlacePopup(props) {\n  const [place, setPlace] = React.useState('');\n  const [link, setLink] = React.useState('');\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onCreateCard({\n      name: place,\n      link: link,\n    });\n    setPlace('');\n    setLink('');\n  }\n\n  function inputPlace(e) {\n    setPlace(e.target.value);\n  }\n\n  function inputLink(e) {\n    setLink(e.target.value);\n  }\n\n  return (\n    <PopupWithForm\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      name='add-element'\n      title='Новое место'\n      button={props.createPreload}\n      inputs={\n        <>\n          <input type=\"text\" className=\"popup__input popup__input-place\" value={place || ''} onChange={inputPlace} placeholder=\"Название\" name=\"name\" required />\n          <span className=\"popup__error\" id=\"name-error\"></span>\n          <input type=\"url\" className=\"popup__input popup__input-link\" value={link || ''} onChange={inputLink} placeholder=\"Ссылка на картинку\" name=\"link\" />\n          <span className=\"popup__error\" id=\"link-error\"></span>\n        </>\n      }\n    />\n  )\n}\n","import React from 'react';\nimport PopupWithForm from '../../components/PopupWithForm/PopupWithForm';\n\nexport default function RemoveCardPopup(props) {\n\n  function handleDeleteClick(e) {\n    e.preventDefault();\n    props.onCardDelete(props.currentId);\n  }\n\n  return (\n    <PopupWithForm\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onCardDelete={handleDeleteClick}\n      name='remove-card'\n      title='Вы уверены?'\n      button='Да'\n    />\n  )\n}","import { React, useState } from 'react';\nimport Header from '../../components/Header/Header';\n\nfunction Login({ handleLogin }) {\n  const [inputValue, setInputValue] = useState({\n    email: '',\n    password: '',\n  })\n\n  function handleChange(e) {\n    const { name, value } = e.target;\n    setInputValue({\n      ...inputValue,\n      [name]: value,\n    });\n  }\n\n  function habdleSubmite(e) {\n    e.preventDefault();\n    handleLogin(inputValue)\n  }\n\n  return (\n    <div className=\"loginContainer \">\n      <div className=\"header_width\">\n        <Header title=\"Регистрация\" to=\"/signup\" />\n      </div>\n      <div className=\"register\">\n        <form action=\"#\" onSubmit={habdleSubmite} className=\"popup__inputs register__form register__form_mobile\">\n          <h2 className=\"popup__heading\">Вход</h2>\n          <input type=\"email\" name=\"email\" className=\"popup__input register__input\" onChange={handleChange} value={inputValue.email} placeholder=\"Email\" required autoComplete=\"off\" />\n          {/* <span className=\"popup__error\" id=\"name-error\"></span> */}\n          <input type=\"password\" name=\"password\" className=\"popup__input register__input\" onChange={handleChange} value={inputValue.password} placeholder=\"Пароль\" required />\n          {/* <span className=\"popup__error\" id=\"link-error\"></span> */}\n          <button type=\"submit\" className=\"popup__submit-button register__button register__button_mobile\">Войти</button>\n        </form>\n      </div>\n    </div>\n  )\n}\n\nexport default Login;","import { React, useState } from \"react\";\nimport { Link } from 'react-router-dom';\nimport Header from '../../components/Header/Header';\n\nfunction Register({ onRegister }) {\n  const [inputValue, setInputValue] = useState({\n    email: '',\n    password: '',\n  });\n\n  function handleChange(e) {\n    const { name, value } = e.target;\n    setInputValue({\n      ...inputValue,\n      [name]: value,\n    });\n  }\n\n  function habdleSubmite(e) {\n    e.preventDefault();\n    onRegister(inputValue);\n  }\n\n  return (\n    <div className=\"loginContainer\">\n      <div className=\"header_width\">\n        <Header title=\"Вход\" to=\"/singin\" />\n      </div>\n      <div className=\"register\">\n        <form action=\"#\" className=\"popup__inputs register__form register__form_mobile\" onSubmit={habdleSubmite}>\n          <h2 className=\"popup__heading\">Регистрация</h2>\n          <input type=\"email\" name=\"email\" className=\"popup__input register__input\" onChange={handleChange} value={inputValue.email} placeholder=\"Email\" required autoComplete=\"off\" />\n          {/* <span className=\"popup__error\" id=\"name-error\"></span> */}\n          <input type=\"password\" name=\"password\" className=\"popup__input register__input\" onChange={handleChange} value={inputValue.password} placeholder=\"Пароль\" required />\n          {/* <span className=\"popup__error\" id=\"link-error\"></span> */}\n          <button type=\"submit\" className=\"popup__submit-button register__button register__button_mobile\">Зарегистрироваться</button>\n          <span className=\"register__span register__span_mobile\">Уже зарегистрированы?<Link className=\"header__auth\" to=\"/signin\"> Войти</Link></span>\n        </form>\n      </div>\n    </div>\n  )\n}\n\nexport default Register;","import { React } from \"react\";\nimport { Redirect, Route } from \"react-router-dom\";\n\nfunction ProtectedRoute({ component: Component, ...props }) {\n  return (\n    <Route>\n      {\n        props.loggedIn === true ? <Component {...props} /> : <Redirect to=\"/signin\" />\n      }\n    </Route>\n  )\n}\n\nexport default ProtectedRoute;","import { React } from \"react\";\nimport PopupWithForm from \"../PopupWithForm/PopupWithForm\";\n\nfunction InfoTooltip(props) {\n  const img = props.infoTool.img;\n  const message = props.infoTool.message;\n\n  return (\n    <PopupWithForm\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      selector={'form_none'}\n      infoTool={props.infoTool}\n      img={img}\n      message={message}\n      div={\n        <div className=\"infoTool\">\n          <img src={img} alt=\"Картинка регистрации\" />\n          <p className=\"infoTool__title infoTool__title_mobile\">{message}</p>\n        </div>\n      }\n      selectorCont={'popup__container_mobile'}\n      selectorBtn={'popup__close-icon_mobile'}\n    />\n  )\n}\n\nexport default InfoTooltip;","const thenApi = (res) => {\n  if (res.ok) {\n    return res.json();\n  }\n  return Promise.reject(`Ошибка: ${res.status}`);\n}\n\nclass Api {\n  constructor(options) {\n    this._baseUrl = options.baseUrl;\n    this._headers = options.headers;\n  }\n\n  getInitialCards() {\n    return fetch(this._baseUrl + '/cards', {\n      headers: this._headers\n    }).then(thenApi)\n  }\n\n  getUser() {\n    return fetch(this._baseUrl + '/users/me', {\n      headers: this._headers\n    }).then(thenApi)\n  }\n\n  setUserInfo(data) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about,\n      })\n    }).then(thenApi)\n  }\n\n  setAvatar(avatar) {\n    return fetch(this._baseUrl + '/users/me/avatar', {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify(avatar)\n    }).then(thenApi)\n  }\n\n  createNewCard(element) {\n    return fetch(this._baseUrl + '/cards', {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: element.name,\n        link: element.link,\n      })\n    }).then(thenApi)\n  }\n\n  deleteCard(userId) {\n    return fetch(`${this._baseUrl}/cards/${userId}`, {\n      method: 'DELETE',\n      headers: this._headers,\n      body: JSON.stringify({\n        _id: userId,\n      })\n    }).then(thenApi)\n  }\n\n  changeLikeCardStatus(cardId, isLiked) {\n    if (isLiked) {\n      return fetch(`${this._baseUrl}/cards/${cardId}/likes`, {\n        method: 'PUT',\n        headers: this._headers\n      }).then(thenApi)\n    } else {\n      return fetch(`${this._baseUrl}/cards/${cardId}/likes`, {\n        method: 'DELETE',\n        headers: this._headers\n      }).then(thenApi)\n    }\n  }\n}\n\n\nconst api = new Api({\n  baseUrl: 'https://api.monarhmesto.students.nomoreparties.space',\n  headers: {\n    Authorization: `Bearer ${localStorage.getItem('jwt')}`,\n    'Content-Type': 'application/json',\n  }\n});\n\nexport default api;","export const BASE_URL = \"https://api.monarhmesto.students.nomoreparties.space\";\n\nexport const register = (email, password) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({ email, password })\n  })\n    .then((res) => res.ok ? res.json() : Promise.reject('Некорректно заполнено одно из полей'))\n}\n\nexport const authorize = (email, password) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({ email, password })\n  })\n    .then((res) => res.ok ? res.json() : Promise.reject('Пользователь с email не найден'));\n}\n\nexport const getContent = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      'Authorization': `Bearer ${token}`,\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    }\n  })\n    .then((res) => res.ok ? res.json() : Promise.reject('Токен не передан или передан не в том формате'));\n}","import { React, useEffect, useState } from \"react\";\nimport { Route, Switch, Redirect, withRouter, useHistory } from \"react-router-dom\";\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport succed from '../images/vector/succed.svg';\nimport fail from '../images/vector/fail.svg';\nimport Main from '../components/Main/Main';\nimport ImagePopup from '../components/ImagePopup/ImagePopup';\nimport EditProfilePopup from '../components/EditProfilePopup/EditProfilePopup';\nimport EditAvatarPopup from '../components/EditAvatarPopup/EditAvatarPopup';\nimport AddPlacePopup from '../components/AddPlacePopup/AddPlacePopup';\nimport RemoveCardPopup from '../components/RemoveCardPopup/RemoveCardPopup';\nimport Login from '../components/Login/Login';\nimport Register from '../components/Register/Register';\nimport ProtectedRoute from '../components/ProtectedRoute/ProtectedRoute';\nimport InfoTooltip from '../components/InfoTooltip/InfoTooltip';\nimport api from '../utils/api';\nimport * as projectAuth from '../utils/projectAuth';\n\nfunction App() {\n  const history = useHistory();\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isDeletePopupOpen, setIsDeletePopupOpen] = useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState(false);\n  const [currentUser, setСurrentUser] = useState(\"\");\n  const [currentId, setCurrentId] = useState(\"\");\n  const [cards, setCards] = useState([]);\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [userData, setUserData] = useState({\n    email: '',\n    password: '',\n  });\n  const [infoTool, setInfoTool] = useState({\n    message: '',\n    img: ''\n  });\n  const [registerPopup, setRegisterPopup] = useState();\n  const [savePreload, setSavePreload] = useState('Сохранить')\n  const [createPreload, setCreatePreload] = useState('Создать')\n\n  const err = (res) => {\n    console.log(`Ошибка: ${res}`);\n  };\n\n  useEffect(() => {\n    const token = localStorage.getItem('jwt');\n    if (token) {\n      projectAuth.getContent(token).then((res) => {\n        if (res) {\n          setUserData({ email: res.data.email });\n          setLoggedIn(true);\n          setСurrentUser(res.data);\n        }\n        api.getInitialCards().then((res) => {\n          setCards(res)\n        })\n      })\n        .catch((res) => {\n          console.log(`Ошибка: ${res}`);\n        })\n    }\n  }, []);\n\n  useEffect(() => {\n    if (loggedIn) {\n      history.push('/');\n      api.getUser().then((res) => {\n        setСurrentUser(res.data);\n      })\n      .catch(err)\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [loggedIn]);\n\n  useEffect(() => {\n    document.addEventListener(\"keydown\", escFunction, false);\n    return () => {\n      document.removeEventListener(\"keydown\", escFunction, false);\n    };\n  });\n\n  function handleRegister(data) {\n    const { email, password } = data;\n    projectAuth.register(email, password).then((res) => {\n      if (res) {\n        setСurrentUser(res);\n        history.push('/signin');\n        setRegisterPopup(true);\n        setInfoTool({\n          message: 'Вы успешно зарегистрировались!',\n          img: succed\n        })\n      }\n    })\n      .catch((err) => {\n        setRegisterPopup(true);\n        setInfoTool({\n          message: 'Что-то пошло не так! Попробуйте ещё раз.',\n          img: fail\n        })\n        console.log(`Такой email существует ${err}`)\n      })\n  }\n\n  function handleLogin(data) {\n    const { email, password } = data;\n    setUserData({ email: email });\n    projectAuth.authorize(email, password).then((res) => {\n      if (res.token) {\n        history.push('/');\n        setLoggedIn(true);\n        localStorage.setItem('jwt', res.token);\n      }\n    })\n      .catch(err)\n  }\n\n  function signOut() {\n    localStorage.removeItem('jwt')\n    setLoggedIn(false)\n    history.push('/signin')\n  }\n\n  function handleAddPlaceSubmit(data) {\n    setCreatePreload('Создание...')\n    api.createNewCard(data).then((res) => {\n      setCards([res.data, ...cards]);\n      closeAllPopups();\n    })\n      .catch(err)\n      .finally(() => {\n        setCreatePreload('Создать');\n        closeAllPopups();\n      }\n      )\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i === currentUser._id);\n    api.changeLikeCardStatus(card._id, !isLiked).then((newCard) => {\n      const newCards = cards.map((c) => c._id === card._id ? newCard.data : c);\n      setCards(newCards);\n    })\n      .catch(err)\n  }\n\n  function handleCardDelete(cardId) {\n    return api.deleteCard(cardId).then(() => {\n      const newList = cards.filter((c) => c._id !== cardId);\n      setCards(newList);\n    })\n      .then(closeAllPopups())\n      .catch(err)\n  }\n\n  function handleUpdateAvatar(avatar) {\n    setSavePreload('Сохранение...')\n    api.setAvatar(avatar)\n      .then((res) => {\n        setСurrentUser(res);\n      })\n      .catch(err)\n      .finally(() => {\n        setSavePreload('Сохранить');\n        closeAllPopups();\n      }\n      )\n  }\n\n  function handleUpdateUser(data) {\n    setSavePreload('Сохранение...')\n    api.setUserInfo(data)\n      .then((res) => {\n        setСurrentUser(res);\n        closeAllPopups();\n      })\n      .catch(err)\n      .finally(() => {\n        setSavePreload('Сохранить');\n        closeAllPopups();\n      }\n      )\n  }\n\n  function handleDeleteCardClick() {\n    setIsDeletePopupOpen(true);\n  };\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  };\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  };\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  };\n\n  function handleCardClick(props) {\n    setSelectedCard({ link: props.link, name: props.name });\n  }\n\n  function closeAllPopups() {\n    setIsDeletePopupOpen(false)\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setSelectedCard(false);\n    setRegisterPopup(false);\n  }\n\n  const escFunction = (event) => {\n    if (event.keyCode === 27) {\n      closeAllPopups();\n    }\n  };\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"App\">\n\n        <Switch>\n          <ProtectedRoute\n            exact\n            path=\"/\"\n            component={Main}\n            email={userData.email}\n            signOut={signOut}\n            loggedIn={loggedIn}\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onEditAvatar={handleEditAvatarClick}\n            onCardClick={handleCardClick}\n            cards={cards}\n            onCardLike={handleCardLike}\n            onPopupDelete={handleDeleteCardClick}\n            setId={setCurrentId}\n          />\n          <Route path=\"/signin\">\n            <Login\n              handleLogin={handleLogin}\n            />\n          </Route>\n          <Route path=\"/signup\">\n            <Register\n              onRegister={handleRegister}\n            />\n          </Route>\n          <Route>\n            {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/signin\" />}\n          </Route>\n        </Switch>\n\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n          savePreload={savePreload}\n        />\n\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n          savePreload={savePreload}\n        />\n\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onCreateCard={handleAddPlaceSubmit}\n          createPreload={createPreload}\n        />\n\n        <RemoveCardPopup\n          isOpen={isDeletePopupOpen}\n          onClose={closeAllPopups}\n          onCardDelete={handleCardDelete}\n          currentId={currentId}\n        />\n\n        <ImagePopup\n          card={selectedCard}\n          onClose={closeAllPopups}\n        />\n\n        <InfoTooltip\n          isOpen={registerPopup}\n          onClose={closeAllPopups}\n          infoTool={infoTool}\n        />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default withRouter(App);","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals.js';\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}