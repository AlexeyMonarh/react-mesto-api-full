{"version":3,"sources":["contexts/CurrentUserContext.js","images/vector/succed.svg","images/vector/fail.svg","components/Card/Card.js","images/vector/mesto_Russia.svg","components/Footer/Footer.js","images/vector/logo.svg","components/Header/Header.js","components/Main/Main.js","components/ImagePopup/ImagePopup.js","components/PopupWithForm/PopupWithForm.js","components/EditProfilePopup/EditProfilePopup.js","components/EditAvatarPopup/EditAvatarPopup.js","components/AddPlacePopup/AddPlacePopup.js","components/RemoveCardPopup/RemoveCardPopup.js","components/Login/Login.js","components/Register/Register.js","components/ProtectedRoute/ProtectedRoute.js","components/InfoTooltip/InfoTooltip.js","utils/api.js","utils/projectAuth.js","components/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","React","createContext","Card","data","onPopupDelete","setId","onCardLike","onCardClick","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","className","type","onClick","src","link","id","alt","name","length","Footer","logoFooter","Header","props","Navbar","collapseOnSelect","expand","variant","Container","Brand","href","logo","Toggle","style","marginRight","aria-controls","Collapse","Nav","email","to","title","Main","headerMob","signOut","onEditAvatar","backgroundImage","avatar","about","onEditProfile","onAddPlace","cards","map","handleCardDelete","ImagePopup","card","onClose","PopupWithForm","isOpen","selectorCont","selectorBtn","div","action","selector","onSubmit","inputs","onCardDelete","button","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","savePreload","value","onChange","target","placeholder","required","EditAvatarPopup","avaRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","place","setPlace","setLink","onCreateCard","createPreload","RemoveCardPopup","currentId","Login","handleLogin","password","inputValue","setInputValue","handleChange","autoComplete","Register","onRegister","ProtectedRoute","Component","component","loggedIn","InfoTooltip","img","infoTool","message","thenApi","res","ok","json","Promise","reject","status","api","options","this","_baseUrl","baseUrl","_headers","headers","fetch","then","method","body","JSON","stringify","element","userId","cardId","Authorization","localStorage","getItem","BASE_URL","withRouter","history","useHistory","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isDeletePopupOpen","setIsDeletePopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","selectedCard","setSelectedCard","setСurrentUser","setCurrentId","setCards","setLoggedIn","userData","setUserData","setInfoTool","registerPopup","setRegisterPopup","setSavePreload","setCreatePreload","err","console","log","deleteCard","newList","filter","c","closeAllPopups","catch","token","projectAuth","push","all","getUser","getInitialCards","cardData","document","addEventListener","escFunction","removeEventListener","event","keyCode","Provider","exact","path","removeItem","changeLikeCardStatus","newCard","newCards","setItem","succed","fail","setAvatar","finally","setUserInfo","createNewCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.a28afc8c.chunk.js","sourcesContent":["import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n","export default __webpack_public_path__ + \"static/media/succed.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/fail.df8eddf6.svg\";","import React from 'react';\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\n\nfunction Card({ data, onPopupDelete, setId, onCardLike, onCardClick }) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const isOwn = data.owner === currentUser._id;\n  const cardDeleteButtonClassName = (\n    `elements__element-delete-button ${isOwn ? 'elements__element-delete-button_visible' : 'elements__element-delete-button_hidden'}`\n  );\n  const isLiked = data.likes.some(i => i === currentUser._id);\n  const cardLikeButtonClassName = `elements__element-like ${isLiked ? 'elements__element-like_visible' : 'elements__element-like_hidden'}`;\n\n  function setCardId() {\n    onPopupDelete();\n    setId(data._id);\n  }\n\n  function handleLikeClick() {\n    onCardLike(data);\n  }\n\n  function handleClick() {\n    onCardClick(data);\n  }\n\n  return (\n    <li className=\"elements__element\">\n      <button type=\"submit\" className={cardDeleteButtonClassName} onClick={setCardId}></button>\n      <img src={data.link} id=\"\" alt=\"Места-России\" className=\"elements__element-img\" onClick={handleClick} />\n      <div className=\"elements__element-description\">\n        <h2 className=\"elements__element-title\">{data.name}</h2>\n        <div className=\"elements__element-like-box\">\n          <button type=\"submit\" className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\n          <div className=\"elements__element-likes\">{data.likes.length}</div>\n        </div>\n      </div>\n    </li>\n  )\n}\n\nexport default Card;","export default __webpack_public_path__ + \"static/media/mesto_Russia.e56d73ba.svg\";","import React from 'react';\nimport logoFooter from '../../images/vector/mesto_Russia.svg';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <img src={logoFooter} alt=\"2020_Место_Россия\" />\n    </footer>\n  );\n}\n\nexport default Footer;","export default __webpack_public_path__ + \"static/media/logo.a307e1c4.svg\";","import { React } from 'react';\nimport logo from '../../images/vector/logo.svg';\nimport { Link } from 'react-router-dom';\nimport { Navbar, Container, Nav } from 'react-bootstrap';\n\nfunction Header(props) {\n  return (\n    <>\n      <Navbar className=\"p-0\" collapseOnSelect expand=\"md\" variant=\"dark\">\n        <Container className=\"header mw-100 pr-0 pl-0\">\n          <Navbar.Brand className=\"p-0 m-0\" href=\"/\">\n            <img src={logo}\n              alt=\"Логотип\"\n              className=\"header__logo\"\n            />\n          </Navbar.Brand>\n          <Navbar.Toggle className=\"p-0 border-0\" style={{marginRight: '30px'}} aria-controls=\"responsive-navbar-nav\" />\n          <Navbar.Collapse className=\"justify-content-end\" id=\"responsive-navbar-nav\">\n            <Nav className=\"text-center\">\n              <div className=\"header__auth_mobile\">{props.email}</div>\n              <Link className=\"header__auth\" onClick={props.onClick} to={props.to}>{props.title}</Link>\n            </Nav>\n          </Navbar.Collapse>\n        </Container>\n      </Navbar>\n    </>\n  );\n}\n\nexport default Header;","import React from 'react';\nimport Card from '../Card/Card';\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\nimport Footer from '../../components/Footer/Footer';\nimport Header from '../../components/Header/Header';\n\nfunction Main(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"content\">\n      <Header headerMob={'header_mobile'} email={props.email} title=\"Выход\" onClick={props.signOut} to=\"\" />\n      <section className=\"profile\">\n        <div className=\"profile__avatar-hover\" onClick={props.onEditAvatar} style={{ backgroundImage: `url(${currentUser.avatar})` }}>\n        </div>\n        <div className=\"profile__info\">\n          <div className=\"profile__info-content\">\n            <h1 className=\"profile__info-name\">{currentUser.name}</h1>\n            <p className=\"profile__info-status\">{currentUser.about}</p>\n          </div>\n          <button className=\"profile__info-edit-button\" onClick={props.onEditProfile}></button>\n        </div>\n        <button className=\"profile__add-button\" onClick={props.onAddPlace}></button>\n      </section>\n      <section>\n        <ul className=\"elements\">\n          {props.cards.map((data, _id) => {\n            return (\n              <Card\n                key={_id}\n                data={data}\n                // link={data.link}\n                // name={data.name}\n                // _id={data._id}\n                // likes={data.likes}\n                onCardClick={props.onCardClick}\n                onCardLike={props.onCardLike}\n                setId={props.setId}\n                onPopupDelete={props.onPopupDelete}\n                handleCardDelete={props.handleCardDelete}\n              />\n            )\n          })}\n        </ul>\n      </section>\n      <Footer />\n    </main>\n  );\n}\n\nexport default Main;","import React from 'react'\n\nfunction ImagePopup(props) {\n    return (\n      <div className={props.card ? `popup popup_${props.card} popup_image-background popup_open` : `popup popup_${props.card} popup_image-background`}>\n        <div className=\"popup__overlay\" onClick={props.onClose}></div>\n        <div className=\"popup__container popup__container_image\">\n          <button className=\"popup__close-icon\" onClick={props.onClose}></button>\n          <img src={props.card.link} alt=\"Места-России\" className=\"popup__image\" />\n          <h5 className=\"popup__title\">{props.card.name}</h5>\n        </div>\n      </div>\n    )\n}\n\nexport default ImagePopup;","import React from 'react';\n\nfunction PopupWithForm(props) {\n  return (\n    <div className={props.isOpen ? `popup popup_${props.name} popup_open` : `popup popup_${props.name}`}>\n      <div className=\"popup__overlay\" onClick={props.onClose}></div>\n      <div className={`popup__container ${props.selectorCont}`}>\n        <button className={`popup__close-icon ${props.selectorBtn}`} onClick={props.onClose}></button>\n        {props.div}\n        <h2 className=\"popup__heading\">{props.title}</h2>\n        <form action=\"#\" className={`popup__inputs ${props.selector}`} name={props.name} onSubmit={props.onSubmit}>\n          {props.inputs}\n          <button type=\"submit\" className=\"popup__submit-button\" onClick={props.onCardDelete}>{props.button}</button>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;","import React from 'react';\nimport PopupWithForm from '../../components/PopupWithForm/PopupWithForm';\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\n\nexport default function EditProfilePopup(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser])\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  function inputName(e) {\n    setName(e.target.value);\n  }\n\n  function inputDescription(e) {\n    setDescription(e.target.value);\n  }\n\n  return (\n    <PopupWithForm\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      name='edit-profile'\n      title='Редактировать профиль'\n      button={props.savePreload}\n      inputs={\n        <>\n          <input type=\"text\" className=\"popup__input popup__input-name\" value={name || ''} onChange={inputName} placeholder=\"Имя\" name=\"name\" required />\n          <span className=\"popup__error\" id=\"name-error\"></span>\n          <input type=\"text\" className=\"popup__input popup__input-job\" value={description || ''} onChange={inputDescription} placeholder=\"О себе\" name=\"link\" required />\n          <span className=\"popup__error\" id=\"link-error\"></span>\n        </>\n      }\n    />\n  )\n}","import React from 'react';\nimport PopupWithForm from '../../components/PopupWithForm/PopupWithForm';\n\nexport default function EditAvatarPopup(props) {\n  const avaRef = React.useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateAvatar({\n      avatar: avaRef.current.value,\n    });\n    avaRef.current.value = '';\n  } \n\n  return (\n    <PopupWithForm\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      name='edit-avatar'\n      title='Обновить аватар'\n      button={props.savePreload}\n      inputs={(\n        <>\n          <input type=\"url\" ref={avaRef} className=\"popup__input popup__input-link\" placeholder=\"Ссылка на новый аватар\"\n            name=\"link\" />\n          <span className=\"popup__error\" id=\"link-error\"></span>\n        </>\n      )}\n    />\n  )\n}\n","import React from 'react';\nimport PopupWithForm from '../../components/PopupWithForm/PopupWithForm';\n\nexport default function AddPlacePopup(props) {\n  const [place, setPlace] = React.useState('');\n  const [link, setLink] = React.useState('');\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onCreateCard({\n      name: place,\n      link: link,\n    });\n    setPlace('');\n    setLink('');\n  }\n\n  function inputPlace(e) {\n    setPlace(e.target.value);\n  }\n\n  function inputLink(e) {\n    setLink(e.target.value);\n  }\n\n  return (\n    <PopupWithForm\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      name='add-element'\n      title='Новое место'\n      button={props.createPreload}\n      inputs={\n        <>\n          <input type=\"text\" className=\"popup__input popup__input-place\" value={place || ''} onChange={inputPlace} placeholder=\"Название\" name=\"name\" required />\n          <span className=\"popup__error\" id=\"name-error\"></span>\n          <input type=\"url\" className=\"popup__input popup__input-link\" value={link || ''} onChange={inputLink} placeholder=\"Ссылка на картинку\" name=\"link\" />\n          <span className=\"popup__error\" id=\"link-error\"></span>\n        </>\n      }\n    />\n  )\n}\n","import React from 'react';\nimport PopupWithForm from '../../components/PopupWithForm/PopupWithForm';\n\nexport default function RemoveCardPopup(props) {\n\n  function handleDeleteClick(e) {\n    e.preventDefault();\n    props.onCardDelete(props.currentId);\n  }\n\n  return (\n    <PopupWithForm\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onCardDelete={handleDeleteClick}\n      name='remove-card'\n      title='Вы уверены?'\n      button='Да'\n    />\n  )\n}","import { React, useState } from 'react';\nimport Header from '../../components/Header/Header';\n\nfunction Login({ handleLogin }) {\n  const [inputValue, setInputValue] = useState({\n    email: '',\n    password: '',\n  })\n\n  function handleChange(e) {\n    const { name, value } = e.target;\n    setInputValue({\n      ...inputValue,\n      [name]: value,\n    });\n  }\n\n  function habdleSubmite(e) {\n    e.preventDefault();\n    handleLogin(inputValue)\n  }\n\n  return (\n    <div className=\"loginContainer \">\n      <div className=\"header_width\">\n        <Header title=\"Регистрация\" to=\"/signup\" />\n      </div>\n      <div className=\"register\">\n        <form action=\"#\" onSubmit={habdleSubmite} className=\"popup__inputs register__form register__form_mobile\">\n          <h2 className=\"popup__heading\">Вход</h2>\n          <input type=\"email\" name=\"email\" className=\"popup__input register__input\" onChange={handleChange} value={inputValue.email} placeholder=\"Email\" required autoComplete=\"off\" />\n          {/* <span className=\"popup__error\" id=\"name-error\"></span> */}\n          <input type=\"password\" name=\"password\" className=\"popup__input register__input\" onChange={handleChange} value={inputValue.password} placeholder=\"Пароль\" required />\n          {/* <span className=\"popup__error\" id=\"link-error\"></span> */}\n          <button type=\"submit\" className=\"popup__submit-button register__button register__button_mobile\">Войти</button>\n        </form>\n      </div>\n    </div>\n  )\n}\n\nexport default Login;","import { React, useState } from \"react\";\nimport { Link } from 'react-router-dom';\nimport Header from '../../components/Header/Header';\n\nfunction Register({ onRegister }) {\n  const [inputValue, setInputValue] = useState({\n    email: '',\n    password: '',\n  });\n\n  function handleChange(e) {\n    const { name, value } = e.target;\n    setInputValue({\n      ...inputValue,\n      [name]: value,\n    });\n  }\n\n  function habdleSubmite(e) {\n    e.preventDefault();\n    onRegister(inputValue);\n  }\n\n  return (\n    <div className=\"loginContainer\">\n      <div className=\"header_width\">\n        <Header title=\"Вход\" to=\"/singin\" />\n      </div>\n      <div className=\"register\">\n        <form action=\"#\" className=\"popup__inputs register__form register__form_mobile\" onSubmit={habdleSubmite}>\n          <h2 className=\"popup__heading\">Регистрация</h2>\n          <input type=\"email\" name=\"email\" className=\"popup__input register__input\" onChange={handleChange} value={inputValue.email} placeholder=\"Email\" required autoComplete=\"off\" />\n          {/* <span className=\"popup__error\" id=\"name-error\"></span> */}\n          <input type=\"password\" name=\"password\" className=\"popup__input register__input\" onChange={handleChange} value={inputValue.password} placeholder=\"Пароль\" required />\n          {/* <span className=\"popup__error\" id=\"link-error\"></span> */}\n          <button type=\"submit\" className=\"popup__submit-button register__button register__button_mobile\">Зарегистрироваться</button>\n          <span className=\"register__span register__span_mobile\">Уже зарегистрированы?<Link className=\"header__auth\" to=\"/signin\"> Войти</Link></span>\n        </form>\n      </div>\n    </div>\n  )\n}\n\nexport default Register;","import { React } from \"react\";\nimport { Redirect, Route } from \"react-router-dom\";\n\nfunction ProtectedRoute({ component: Component, ...props }) {\n  return (\n    <Route>\n      {\n        props.loggedIn === true ? <Component {...props} /> : <Redirect to=\"/signin\" />\n      }\n    </Route>\n  )\n}\n\nexport default ProtectedRoute;","import { React } from \"react\";\nimport PopupWithForm from \"../PopupWithForm/PopupWithForm\";\n\nfunction InfoTooltip(props) {\n  const img = props.infoTool.img;\n  const message = props.infoTool.message;\n\n  return (\n    <PopupWithForm\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      selector={'form_none'}\n      infoTool={props.infoTool}\n      img={img}\n      message={message}\n      div={\n        <div className=\"infoTool\">\n          <img src={img} alt=\"Картинка регистрации\" />\n          <p className=\"infoTool__title infoTool__title_mobile\">{message}</p>\n        </div>\n      }\n      selectorCont={'popup__container_mobile'}\n      selectorBtn={'popup__close-icon_mobile'}\n    />\n  )\n}\n\nexport default InfoTooltip;","const thenApi = (res) => {\n  if (res.ok) {\n    return res.json();\n  }\n  return Promise.reject(`Ошибка: ${res.status}`);\n}\n\nclass Api {\n  constructor(options) {\n    this._baseUrl = options.baseUrl;\n    this._headers = options.headers;\n  }\n\n  getInitialCards() {\n    return fetch(this._baseUrl + '/cards', {\n      headers: this._headers\n    }).then(thenApi)\n  }\n\n  getUser() {\n    return fetch(this._baseUrl + '/users/me', {\n      headers: this._headers\n    }).then(thenApi)\n  }\n\n  setUserInfo(data) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about,\n      })\n    }).then(thenApi)\n  }\n\n  setAvatar(avatar) {\n    return fetch(this._baseUrl + '/users/me/avatar', {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify(avatar)\n    }).then(thenApi)\n  }\n\n  createNewCard(element) {\n    return fetch(this._baseUrl + '/cards', {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: element.name,\n        link: element.link,\n      })\n    }).then(thenApi)\n  }\n\n  deleteCard(userId) {\n    return fetch(`${this._baseUrl}/cards/${userId}`, {\n      method: 'DELETE',\n      headers: this._headers,\n      body: JSON.stringify({\n        _id: userId,\n      })\n    }).then(thenApi)\n  }\n\n  changeLikeCardStatus(cardId, isLiked) {\n    if (isLiked) {\n      return fetch(`${this._baseUrl}/cards/${cardId}/likes`, {\n        method: 'PUT',\n        headers: this._headers\n      }).then(thenApi)\n    } else {\n      return fetch(`${this._baseUrl}/cards/${cardId}/likes`, {\n        method: 'DELETE',\n        headers: this._headers\n      }).then(thenApi)\n    }\n  }\n}\n\n\nconst api = new Api({\n  baseUrl: 'https://api.monarhmesto.students.nomoreparties.space',\n  headers: {\n    Authorization: `Bearer ${localStorage.getItem('jwt')}`,\n    'Content-Type': 'application/json',\n  }\n});\n\nexport default api;","export const BASE_URL = \"https://api.monarhmesto.students.nomoreparties.space\";\n\nexport const register = (email, password) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({ email, password })\n  })\n    .then((res) => res.ok ? res.json() : Promise.reject('Некорректно заполнено одно из полей'))\n}\n\nexport const authorize = (email, password) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({ email, password })\n  })\n    .then((res) => res.ok ? res.json() : Promise.reject('Пользователь с email не найден'));\n}\n\nexport const getContent = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      'Authorization': `Bearer ${token}`,\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    }\n  })\n    .then((res) => res.ok ? res.json() : Promise.reject('Токен не передан или передан не в том формате'));\n}","import { React, useEffect, useState } from \"react\";\nimport { Route, Switch, Redirect, withRouter, useHistory } from \"react-router-dom\";\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport succed from '../images/vector/succed.svg';\nimport fail from '../images/vector/fail.svg';\nimport Main from '../components/Main/Main';\nimport ImagePopup from '../components/ImagePopup/ImagePopup';\nimport EditProfilePopup from '../components/EditProfilePopup/EditProfilePopup';\nimport EditAvatarPopup from '../components/EditAvatarPopup/EditAvatarPopup';\nimport AddPlacePopup from '../components/AddPlacePopup/AddPlacePopup';\nimport RemoveCardPopup from '../components/RemoveCardPopup/RemoveCardPopup';\nimport Login from '../components/Login/Login';\nimport Register from '../components/Register/Register';\nimport ProtectedRoute from '../components/ProtectedRoute/ProtectedRoute';\nimport InfoTooltip from '../components/InfoTooltip/InfoTooltip';\nimport api from '../utils/api';\nimport * as projectAuth from '../utils/projectAuth';\n\nfunction App() {\n  const history = useHistory();\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isDeletePopupOpen, setIsDeletePopupOpen] = useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState(false);\n  const [currentUser, setСurrentUser] = useState(\"\");\n  const [currentId, setCurrentId] = useState(\"\");\n  const [cards, setCards] = useState([]);\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [userData, setUserData] = useState({\n    email: '',\n    password: '',\n  });\n  const [infoTool, setInfoTool] = useState({\n    message: '',\n    img: ''\n  });\n  const [registerPopup, setRegisterPopup] = useState();\n  const [savePreload, setSavePreload] = useState('Сохранить')\n  const [createPreload, setCreatePreload] = useState('Создать')\n\n  const err = (res) => {\n    console.log(`Ошибка: ${res}`);\n  };\n\n  useEffect(() => {\n    const token = localStorage.getItem('jwt');\n    if (token) {\n      projectAuth.getContent(token).then((res) => {\n        if (res) {\n          setUserData({ email: res.data.email });\n          setLoggedIn(true);\n          setСurrentUser(res.data);\n          // history.push(\"/\");\n        }\n      })\n        .catch((res) => {\n          console.log(`Ошибка: ${res}`);\n        })\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (loggedIn) {\n      history.push('/');\n      // .catch(err)\n      // api.getInitialCards().then((res) => {\n      //   setCards(res)\n      // })\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [loggedIn]);\n\n  useEffect(() => {\n    Promise.all([api.getUser(), api.getInitialCards()])\n      .then(([userData, cardData]) => {\n        setСurrentUser(userData.data);\n        setCards(cardData);\n      })\n    // api.getUser().then((res) => {\n    //   setСurrentUser(res.data);\n    // }).catch(err)\n  }, []);\n\n  useEffect(() => {\n    document.addEventListener(\"keydown\", escFunction, false);\n    return () => {\n      document.removeEventListener(\"keydown\", escFunction, false);\n    };\n  });\n\n  function handleRegister(data) {\n    const { email, password } = data;\n    projectAuth.register(email, password).then((res) => {\n      if (res) {\n        history.push('/signin');\n        setRegisterPopup(true);\n        setInfoTool({\n          message: 'Вы успешно зарегистрировались!',\n          img: succed\n        })\n      }\n    })\n      .catch((err) => {\n        setRegisterPopup(true);\n        setInfoTool({\n          message: 'Что-то пошло не так! Попробуйте ещё раз.',\n          img: fail\n        })\n        console.log(`Такой email существует ${err}`)\n      })\n  }\n\n  function handleLogin(data) {\n    const { email, password } = data;\n    setUserData({ email: email });\n    projectAuth.authorize(email, password).then((res) => {\n      if (res.token) {\n        history.push('/');\n        setLoggedIn(true);\n        localStorage.setItem('jwt', res.token);\n      }\n    })\n      .catch(err)\n  }\n\n  function signOut() {\n    localStorage.removeItem('jwt')\n    setLoggedIn(false)\n    history.push('/signin')\n  }\n\n  function handleAddPlaceSubmit(data) {\n    setCreatePreload('Создание...')\n    api.createNewCard(data).then((res) => {\n      setCards([res.data, ...cards]);\n      closeAllPopups();\n    })\n      .catch(err)\n      .finally(() => {\n        setCreatePreload('Создать');\n        closeAllPopups();\n      }\n      )\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i === currentUser._id);\n    api.changeLikeCardStatus(card._id, !isLiked).then((newCard) => {\n      const newCards = cards.map((c) => c._id === card._id ? newCard.data : c);\n      setCards(newCards);\n    })\n      .catch(err)\n  }\n\n  function handleCardDelete(cardId) {\n    return api.deleteCard(cardId).then(() => {\n      const newList = cards.filter((c) => c._id !== cardId);\n      return setCards(newList);\n    })\n      .then(closeAllPopups())\n      .catch(err)\n  }\n\n  function handleUpdateAvatar(avatar) {\n    setSavePreload('Сохранение...')\n    api.setAvatar(avatar)\n      .then((res) => {\n        setСurrentUser(res);\n      })\n      .catch(err)\n      .finally(() => {\n        setSavePreload('Сохранить');\n        closeAllPopups();\n      }\n      )\n  }\n\n  function handleUpdateUser(data) {\n    setSavePreload('Сохранение...')\n    api.setUserInfo(data)\n      .then((res) => {\n        setСurrentUser(res);\n        closeAllPopups();\n      })\n      .catch(err)\n      .finally(() => {\n        setSavePreload('Сохранить');\n        closeAllPopups();\n      }\n      )\n  }\n\n  function handleDeleteCardClick() {\n    setIsDeletePopupOpen(true);\n  };\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  };\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  };\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  };\n\n  function handleCardClick(props) {\n    setSelectedCard({ link: props.link, name: props.name });\n  }\n\n  function closeAllPopups() {\n    setIsDeletePopupOpen(false)\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setSelectedCard(false);\n    setRegisterPopup(false);\n  }\n\n  const escFunction = (event) => {\n    if (event.keyCode === 27) {\n      closeAllPopups();\n    }\n  };\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"App\">\n\n        <Switch>\n          <ProtectedRoute\n            exact\n            path=\"/\"\n            component={Main}\n            email={userData.email}\n            signOut={signOut}\n            loggedIn={loggedIn}\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onEditAvatar={handleEditAvatarClick}\n            onCardClick={handleCardClick}\n            cards={cards}\n            onCardLike={handleCardLike}\n            onPopupDelete={handleDeleteCardClick}\n            setId={setCurrentId}\n            handleCardDelete={handleCardDelete}\n          />\n          <Route path=\"/signin\">\n            <Login\n              handleLogin={handleLogin}\n            />\n          </Route>\n          <Route path=\"/signup\">\n            <Register\n              onRegister={handleRegister}\n            />\n          </Route>\n          <Route>\n            {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/signin\" />}\n          </Route>\n        </Switch>\n\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n          savePreload={savePreload}\n        />\n\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n          savePreload={savePreload}\n        />\n\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onCreateCard={handleAddPlaceSubmit}\n          createPreload={createPreload}\n        />\n\n        <RemoveCardPopup\n          isOpen={isDeletePopupOpen}\n          onClose={closeAllPopups}\n          onCardDelete={handleCardDelete}\n          currentId={currentId}\n        />\n\n        <ImagePopup\n          card={selectedCard}\n          onClose={closeAllPopups}\n        />\n\n        <InfoTooltip\n          isOpen={registerPopup}\n          onClose={closeAllPopups}\n          infoTool={infoTool}\n        />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default withRouter(App);","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals.js';\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}